import{u as I,P as o,$ as f,Q as u,ad as z,ae as l,U as d,af as Q,ag as p,R as i}from"./index.c5b698de.js";class h{static async getQuizesTable(s){var c;const t=(c=I().user)==null?void 0:c.uid,a=[],n=o(u(i,"sendQuizes"),f(s,"==",t));return(await z(n)).forEach(q=>{a.push({id:q.id,...q.data()})}),a}static async addQuiz(s){return(await l(u(i,"quizes"),s)).id}static async getQuizzesByUser(s){const e=[],t=o(u(i,"quizes"),f("userId","==",s));return(await z(t)).forEach(n=>{e.push({id:n.id,...n.data()})}),e}static async getQuizById(s){const e=d(i,"quizes",s);return(await Q(e)).data()}static async deleteQuizById(s){const e=d(i,"quizes",s);await p(e)}static async sendQuizToUser(s,e){var r,c;const t=I(),a={quizId:e.id,senderId:(r=t.user)==null?void 0:r.uid,senderName:(c=t.user)==null?void 0:c.displayName,recipientId:s.userId,recipientName:s.username};return(await l(u(i,"sendQuizes"),a)).id}static async getSentQuizes(){const s=[],e=await this.getQuizesTable("senderId");for await(const t of e){const a=d(i,"quizes",t.quizId),n=await Q(a);s.push({quiz:n.data(),recipientName:t.recipientName,recipientId:t.recipientId,sentQuizId:t.id})}return s}static async sentQuizDelete(s){const e=d(i,"sendQuizes",s);await p(e)}static async getIncomeQuizes(){const s=[],e=await this.getQuizesTable("recipientId");for await(const t of e){const a=d(i,"quizes",t.quizId),n=await Q(a);s.push({quiz:n.data(),senderName:t.senderName,senderId:t.senderId,sentQuizId:t.id})}return s}static async getAllQuizes(){const s=[],e=o(u(i,"quizes"));return(await z(e)).forEach(a=>{s.push({id:a.id,...a.data()})}),s}static async sentResultQuizToUser(s){return(await l(u(i,"quizesResults"),s)).id}}export{h as q};
