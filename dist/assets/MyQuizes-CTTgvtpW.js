import{_ as L}from"./_plugin-vue_export-helper-CtXoblKC.js";/* empty css                */import{q as M}from"./quiz.service-BbSLNhP5.js";import"./QuizResultBoard-hs6AWMMd.js";/* empty css                    *//* empty css                  *//* empty css                  *//* empty css                 */import{c as S,o as m,g as Q,w as h,l as n,h as i,R as V,G as w,V as H,a1 as K,u as Z,r as b,X as R,Q as ee,t as A,H as G,j as y,A as O,i as f,a2 as se,a3 as te,a4 as ne,a5 as oe,_ as ae,F as D,a6 as le,S as F,a7 as ie,a0 as W,v as re,a8 as X,C as B,a9 as q,aa as ue,E as ce,ab as de,ac as me,ad as _e,O as pe,D as ve}from"./index-Cmehh-cC.js";import{U as N,g as P,Q as fe}from"./QuizPlay-C82OfWCh.js";const he={class:"dialog-footer"},Ce=S({__name:"QuestionDialog",props:{visible:{type:Boolean,required:!0},title:{type:String,default:"Warning"},text:{type:String}},emits:["sendAnswer"],setup(C,{emit:z}){const l=z,u=e=>{l("sendAnswer",e)};return(e,t)=>{const _=H,g=K;return m(),Q(g,{"model-value":C.visible,title:e.$t(C.title),width:"30%",center:"","show-close":!1},{footer:h(()=>[n("span",he,[i(_,{onClick:t[0]||(t[0]=a=>u(!1))},{default:h(()=>[V(w(e.$t("Cansel")),1)]),_:1}),i(_,{type:"primary",onClick:t[1]||(t[1]=a=>u(!0))},{default:h(()=>[V(w(e.$t("Confirm")),1)]),_:1})])]),default:h(()=>[n("span",null,w(C.text),1)]),_:1},8,["model-value","title"])}}}),ze={class:"control-buttons"},ge=S({__name:"MyQuizzesList",emits:["sendCommand"],setup(C,{emit:z}){const l=Z(),u=b(""),e=b(!0),t=b(!1),_=R(),g=z;let a;const p=ee({Quizzes:[]}),$=A(()=>p.Quizzes.filter(r=>!u.value||r.name.toLowerCase().includes(u.value.toLowerCase())));G(async()=>{var c;const r=await M.getQuizzesByUser((c=l.user)==null?void 0:c.uid);p.Quizzes.push(...r),e.value=!1});const k=async(r,c)=>{const T=`${document.URL}/urlpath/${c.id}`;navigator.clipboard.writeText(T),_.SetNofication("Success","QuizUrlIsCopyToClipboard","success")},s=async(r,c)=>{g("sendCommand",{command:"EditQuiz",data:c})},o=(r,c)=>{a=c.id,t.value=!0},U=async(r,c)=>{g("sendCommand",{command:"TestQuiz",data:c})},I=async(r,c)=>{g("sendCommand",{command:"SendQuiz",data:c})},d=async r=>{t.value=!1,r&&(e.value=!0,await M.deleteQuizById(a),p.Quizzes=p.Quizzes.filter(c=>c.id!==a),_.SetNofication("Success","ItemDeleteSuccessfully","success"),e.value=!1)};return(r,c)=>{const T=le,j=F,x=H,Y=ie,J=W;return m(),y(D,null,[O((m(),Q(Y,{data:$.value,style:{width:"100%"}},{default:h(()=>[i(T,{label:r.$t("MyQuizzesTableItemName"),prop:"name"},null,8,["label"]),i(T,{align:"right","min-width":140},{header:h(()=>[i(j,{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=v=>u.value=v),size:"small",placeholder:r.$t("MyQuizzesTableSearchPlaceholder")},null,8,["modelValue","placeholder"])]),default:h(v=>[n("div",ze,[i(x,{circle:"",onClick:E=>k(v.$index,v.row),icon:f(se)},null,8,["onClick","icon"]),i(x,{type:"primary",circle:"",onClick:E=>s(v.$index,v.row),icon:f(te)},null,8,["onClick","icon"]),i(x,{type:"success",circle:"",onClick:E=>U(v.$index,v.row),icon:f(ne)},null,8,["onClick","icon"]),i(x,{type:"warning",circle:"",onClick:E=>I(v.$index,v.row),icon:f(oe)},null,8,["onClick","icon"]),i(x,{type:"danger",circle:"",icon:f(ae),onClick:E=>o(v.$index,v.row)},null,8,["icon","onClick"])])]),_:1})]),_:1},8,["data"])),[[J,e.value]]),i(Ce,{visible:t.value,text:r.$t("QuestionDoYouReallyWantToDelete"),onSendAnswer:d},null,8,["visible","text"])],64)}}}),$e=L(ge,[["__scopeId","data-v-f05e35a5"]]),ye={class:"items-add-content"},ke={class:"items-list-add-group"},we={class:"items-add-search"},be={class:"items-add-list"},Qe={class:"items-list"},Se=["onDragstart"],Ue=["onClick"],Ie={class:"checked-items"},xe={class:"item-check"},De=["onClick"],Te=S({__name:"FindAndChoose",props:{users:{}},emits:["usersChoosen"],setup(C,{emit:z}){const l=C,u=z,e=b(""),t=b([]),_=A(()=>e.value.trim()!=""?t.value.filter(s=>s.username.toLowerCase().includes(e.value.toLowerCase())&&s.list==1):t.value.filter(s=>s.list===1)),g=A(()=>{let s=t.value.filter(o=>o.list===2);return u("usersChoosen",N(s)),s}),a=(s,o)=>{s.dataTransfer.dropEffect="move",s.dataTransfer.effectAllowed="move",s.dataTransfer.setData("itemID",o.userId)},p=(s,o)=>{const U=s.dataTransfer.getData("itemID"),I=t.value.find(d=>d.userId==U);I.list=o},$=s=>{s.list=1},k=s=>{s.list==1?s.list=2:s.list=1};return re(()=>l.users,s=>{t.value=s}),(s,o)=>{const U=F,I=ce;return m(),y("div",ye,[n("div",ke,[n("div",we,[i(U,{modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=d=>e.value=d),class:"w-50 m-2",placeholder:"Please Input","prefix-icon":f(X)},null,8,["modelValue","prefix-icon"])]),n("div",be,[n("ul",Qe,[(m(!0),y(D,null,B(_.value,d=>(m(),y("li",{key:d.username,draggable:"true",onDragstart:r=>a(r,d)},[n("div",{onClick:q(r=>k(d),["prevent"]),class:"item"},[n("span",null,w(d.username),1),i(I,null,{default:h(()=>[i(f(ue))]),_:1})],8,Ue)],40,Se))),128))])])]),n("div",Ie,[n("ul",{class:"checked-items-list",onDrop:o[1]||(o[1]=d=>p(d,2)),onDragover:o[2]||(o[2]=q(()=>{},["prevent"])),onDragenter:o[3]||(o[3]=q(()=>{},["prevent"]))},[(m(!0),y(D,null,B(g.value,d=>(m(),y("li",{class:"checked-item",key:d.username},[n("div",xe,[V(w(d.username)+" ",1),n("span",{onClick:r=>$(d)},"X",8,De)])]))),128))],32)])])}}}),Ee=L(Te,[["__scopeId","data-v-3ea90b75"]]),Ve={class:"items-add-content"},Ae={class:"items-list-add-group"},Le={class:"items-add-search"},qe={class:"items-add-list"},Me=S({__name:"FindAndChooseMobile",props:{users:{}},emits:["usersChoosen"],setup(C,{emit:z}){const l=C,u=z,e=b(""),t=b([]),_=A(()=>e.value.trim()!=""?l.users.filter(a=>a.username.toLowerCase().includes(e.value.toLowerCase())):l.users),g=()=>{const a=[];if(t.value.length>0){t.value.forEach(p=>{let $;$=l.users.find(k=>k.username===p),a.push($)}),u("usersChoosen",N(a));return}u("usersChoosen",N(a))};return(a,p)=>{const $=F,k=de,s=me;return m(),y("div",Ve,[n("div",Ae,[n("div",Le,[i($,{modelValue:e.value,"onUpdate:modelValue":p[0]||(p[0]=o=>e.value=o),class:"w-50 m-2",placeholder:"Please Input","prefix-icon":f(X)},null,8,["modelValue","prefix-icon"])]),n("div",qe,[i(s,{modelValue:t.value,"onUpdate:modelValue":p[1]||(p[1]=o=>t.value=o),class:"user-list",onChange:g},{default:h(()=>[(m(!0),y(D,null,B(_.value,o=>(m(),Q(k,{key:o.id,label:o.username,size:"large",border:""},null,8,["label"]))),128))]),_:1},8,["modelValue"])])])])}}}),Be=L(Me,[["__scopeId","data-v-2d2260b4"]]),Ne={class:"send-quiz-header"},He={class:"sendQuiz"},Fe={class:"column"},Pe={class:"users-add-header"},Re={class:"find-users"},Ge={class:"find-users-mobile"},Oe={class:"column send-button"},We=S({__name:"SendQuiz",props:["quiz"],setup(C){const z=C,l=b(!0),u=R();let e=[],t;const _=a=>{e=a},g=async()=>{if(e.length>0){l.value=!0,console.log(e.length);for await(const a of e)await M.sendQuizToUser(a,z.quiz);l.value=!1,u.SetNofication("Success","SendQuizToUsersSuccess","success");return}u.SetNofication("Error","SendQuizErrorUsers","error")};return G(async()=>{t=await _e.getAllUsers(),l.value=!1}),(a,p)=>{const $=H,k=W;return m(),y(D,null,[n("div",Ne,[n("h3",null,w(a.$t("SendQuizHeader")),1)]),O((m(),y("div",He,[n("div",Fe,[n("div",Pe,w(a.$t("SendQuizSelectUsers")),1),n("div",Re,[i(Ee,{users:f(P)(f(t)),onUsersChoosen:_},null,8,["users"])]),n("div",Ge,[i(Be,{users:f(P)(f(t)),onUsersChoosen:_},null,8,["users"])])]),n("div",Oe,[i($,{type:"primary",onClick:g},{default:h(()=>[V(w(a.$t("SendQuizToUsersButton")),1)]),_:1})])])),[[k,l.value]])],64)}}}),Xe=L(We,[["__scopeId","data-v-11a24b35"]]),as=S({__name:"MyQuizes",setup(C){const z={TestQuiz:fe,SendQuiz:Xe},l=b(null),u=e=>{l.value=e};return(e,t)=>{const _=pe;return m(),Q(_,{shadow:"hover",class:"card-listquiz"},{header:h(()=>[n("h3",null,w(e.$t("MyQuizzesList")),1)]),default:h(()=>[l.value?(m(),Q(ve(z[l.value.command]),{key:1,quiz:l.value.data},null,8,["quiz"])):(m(),Q($e,{key:0,onSendCommand:u}))]),_:1})}}});export{as as default};
